<div class="personal__progress" *ngIf="progressBarVisibility">
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</div>
<div class="personal" *ngIf="user">
  <div class="personal__row personal__row_single" *ngIf="!rerender">
    <div class="personal__avatar-wrapper">
      <div class="settings__avatar">
        <app-user-icon [fakeAvatar]="user.fakeAvatarUrl" [avatar]="user.avatar" [preload]="preloadedImg"></app-user-icon>
      </div>
      <app-input-file
        caption="{{'buttons.change-avatar' | translate}}"
        (fileSelected)="selectNewAvatar($event)"
        [clearFilesSubject]="clearFilesSubject"
      ></app-input-file>
    </div>
  </div>
  <div class="personal__row" *ngIf="!rerender">
    <div class="personal__control">
      <app-input-text placeholder="{{'controls.nickname' | translate}}" icon="perm_identity">
        <input type="text" [(ngModel)]="tempUser.nickname">
      </app-input-text>
    </div>
    <div class="personal__control">
      <app-input-text placeholder="{{'controls.email' | translate}}" icon="mail_outline">
        <input type="text" [(ngModel)]="tempUser.email">
      </app-input-text>
    </div>
  </div>
  <div class="personal__row" *ngIf="!rerender">
    <div class="personal__control">
      <app-select [value]="tempUser.activity" (change)="reactOnSelectActivity($event)" icon="sports_basketball" placeholder="Activity">
        <app-select-option [value]="'no physical activity'" displayedValue="{{'activities.no' | translate}}"></app-select-option>
        <app-select-option [value]="'3 trainings per week'" displayedValue="{{'activities.3' | translate}}"></app-select-option>
        <app-select-option [value]="'5 intense trainings per week'" displayedValue="{{'activities.5' | translate}}"></app-select-option>
        <app-select-option [value]="'5 trainings per week'" displayedValue="{{'activities.5-intense' | translate}}"></app-select-option>
        <app-select-option [value]="'training every day'" displayedValue="{{'activities.every-day' | translate}}"></app-select-option>
        <app-select-option [value]="'intense trainings every day or more than one time per day'" displayedValue="{{'activities.intense-every-day' | translate}}"></app-select-option>
        <app-select-option [value]="'daily physical activity plus physical work'" displayedValue="{{'activities.max' | translate}}"></app-select-option>
      </app-select>
    </div>
    <div class="personal__control">
      <app-select [value]="tempUser.goal" (change)="reactOnSelectGoal($event)" icon="event_available" placeholder="Goal">
        <app-select-option [value]="'lose weight'" displayedValue="{{'goals.lose' | translate}}"></app-select-option>
        <app-select-option [value]="'maintain weight'" displayedValue="{{'goals.maintain' | translate}}"></app-select-option>
        <app-select-option [value]="'gain weight'" displayedValue="{{'goals.gain' | translate}}"></app-select-option>
      </app-select>
    </div>
  </div>
  <div class="personal__row" *ngIf="!rerender">
    <div class="personal__control">
      <app-input-text placeholder="{{'controls.height' | translate}}" icon="height">
        <input type="text" [(ngModel)]="tempUser.height" appNumericControl>
      </app-input-text>
    </div>
    <div class="personal__control">
      <app-input-text placeholder="{{'controls.weight' | translate}}" icon="fitness_center">
        <input type="text" [(ngModel)]="tempUser.weight" appNumericControl>
      </app-input-text>
    </div>
  </div>
  <div class="personal__row" *ngIf="!rerender">
    <div class="personal__control">
      <app-input-text placeholder="{{'controls.age' | translate}}" icon="perm_identity">
        <input type="text" [(ngModel)]="tempUser.age" appNumericControl>
      </app-input-text>
    </div>
    <div class="personal__control">
      <app-radio-group caption="{{'controls.male-title' | translate}}" type="male" [twoWayBind]="tempUser"></app-radio-group>
    </div>
  </div>
  <div class="personal__actions">
    <app-custom-button color="accent" caption="{{'buttons.save' | translate}}" (click)="save()" [disabled]="disableButton()"></app-custom-button>
    <app-custom-button color="warn" caption="{{'buttons.cancel' | translate}}" (click)="cancel()" [disabled]="disableButton()"></app-custom-button>
  </div>
</div>

<div class="my-food">
  <div class="my-food__progress-bar" *ngIf="progressBarVisibility">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>
  <div class="my-food__content">
    <div class="my-food__current-eating" [hidden]="!userFillRequiredData">
      <div class="my-food__current-progress">
        <app-current-progress></app-current-progress>
      </div>
      <app-current-eating></app-current-eating>
    </div>
    <div class="my-food__my-products" [hidden]="!userFillRequiredData">
      <div class="my-food__description">
        Here are your products. You can add your food, select it today and receive daily report at your according time.
      </div>
      <div class="my-food__actions">
        <app-spinner-button caption="Add product" [small]="true" routerLink="/add-product"></app-spinner-button>
        <app-spinner-button caption="Find more" [small]="true" *ngIf="myProducts" (click)="findMoreProducts()"></app-spinner-button>
        <app-spinner-button caption="My products" [small]="true" *ngIf="!myProducts" (click)="goBackToMyProducts()"></app-spinner-button>
        <app-search caption="Search" (searchEvent)="reactOnSearch($event)"></app-search>
      </div>
      <div class="my-food__products" *ngIf="products">
        <div class="my-food__product" *ngFor="let product of displayedProducts">
          <app-product
            [my]="myProducts"
            [product]="product"
            (addProductEvent)="reactOnAddProduct($event)"
            (deleteProductEvent)="reactOnDeleteProduct($event)"></app-product>
        </div>
      </div>
    </div>
    <div class="my-food__right-bar" [hidden]="!userFillRequiredData">
      <app-categories (selectCategoryEvent)="reactOnSelectCategoryEvent($event)"></app-categories>
      <div class="my-food__options">
        <div class="my-food__options-title">Food options</div>
        <div class="progress__trigger" *ngIf="user">
          <app-toggle caption="Use custom goals" [disabled]="disableGoalTrigger()" [small]="true" [value]="user.ownGoal" (change)="reactOnChangeGoal($event)"></app-toggle>
        </div>
        <div class="progress__trigger" *ngIf="user">
          <app-toggle caption="Disable tips" [disabled]="disableGoalTrigger()" [small]="true" [value]="user.disableTips" (change)="reactOnChangeTips($event)"></app-toggle>
        </div>
        <div class="progress__actions">
          <app-spinner-button caption="Custom goals" [small]="true" appOpenCustomGoals></app-spinner-button>
        </div>
      </div>
      <div class="my-food__advice" @toRightAnimation *ngIf="user?.disableTips">
        <app-advice></app-advice>
      </div>
    </div>
  </div>
  <div class="my-food__content" *ngIf="!progressBarVisibility && !userFillRequiredData">
    <div class="my-food__description">
      You have to set your personal data, to give for us ability to calculate your daily goals. Set it and start use application! <br><br>
      <app-spinner-button caption="Go to settings" [small]="true" routerLink="/settings/personal"></app-spinner-button>
    </div>
  </div>
</div>
<app-flying-product></app-flying-product>
